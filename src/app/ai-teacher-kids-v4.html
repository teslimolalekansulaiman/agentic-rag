<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Teacher for Kids</title>

  <style>
    body {
      font-family: "Comic Sans MS", Arial, sans-serif;
      background: #f0f9ff;
      margin: 0;
      padding: 0;
    }

    .container {
      max-width: 900px;
      margin: 40px auto;
      text-align: center;
    }

    .board {
      background: white;
      border-radius: 18px;
      padding: 40px;
      min-height: 420px;
      box-shadow: 0 12px 30px rgba(0,0,0,0.1);
      text-align: left;
    }

    .content {
      font-size: 22px;
      line-height: 1.8;
      white-space: pre-wrap;
      min-height: 140px;
    }

    .controls {
      margin-top: 20px;
      display: flex;
      justify-content: center;
      gap: 14px;
      flex-wrap: wrap;
    }

    button {
      padding: 12px 20px;
      border-radius: 14px;
      border: none;
      cursor: pointer;
      font-size: 15px;
      background: #38bdf8;
      color: #003049;
      font-weight: bold;
    }

    button.secondary {
      background: #e0f2fe;
    }

    #diagram {
      display: none;
      margin-top: 30px;
    }

    .bubble {
      transition: transform 0.3s ease;
    }

    .highlight {
      transform: scale(1.15);
    }

    .arrow {
      fill: none;
      stroke: #64748b;
      stroke-width: 6;
    }
  </style>
</head>

<body>
<div class="container">

  <!-- BOARD -->
  <div class="board">
    <h1>ğŸ¤– What is an AI Model?</h1>
    <div id="content" class="content"></div>

    <div id="diagram">
      <svg width="100%" height="220" viewBox="0 0 800 220">

        <!-- Data -->
        <circle id="data" class="bubble" cx="150" cy="110" r="60" fill="#bae6fd"/>
        <text x="150" y="115" text-anchor="middle" font-size="20">ğŸ“š Data</text>

        <!-- Brain -->
        <rect id="model" class="bubble" x="320" y="60" width="160" height="100" rx="30" fill="#bbf7d0"/>
        <text x="400" y="110" text-anchor="middle" font-size="20">ğŸ§  AI Brain</text>

        <!-- Answer -->
        <circle id="output" class="bubble" cx="650" cy="110" r="60" fill="#fde68a"/>
        <text x="650" y="115" text-anchor="middle" font-size="20">ğŸ’¡ Answer</text>

        <!-- Arrow 1: Data -> Brain -->
        <path id="arrow1" class="arrow"
              d="M210 110 L320 110"
              marker-end="url(#arrowhead)" />

        <!-- Arrow 2: Brain -> Answer -->
        <path id="arrow2" class="arrow"
              d="M480 110 L590 110"
              marker-end="url(#arrowhead)" />

        <defs>
          <marker id="arrowhead" markerWidth="10" markerHeight="10"
                  refX="5" refY="5" orient="auto">
            <polygon points="0 0, 10 5, 0 10" fill="#64748b"/>
          </marker>
        </defs>
      </svg>
    </div>
  </div>

  <!-- CONTROLS -->
  <div class="controls">
    <button onclick="start()">â–¶ Start</button>
    <button class="secondary" onclick="simpler()">ğŸ” Explain Again</button>
    <button class="secondary" onclick="listen()">ğŸ¤ Ask</button>
  </div>

</div>

<script>
  let timers = [];
  let arrow1Len = 0;
  let arrow2Len = 0;

  function setupArrow(id) {
    const p = document.getElementById(id);
    const len = p.getTotalLength();
    p.style.strokeDasharray = len;
    p.style.strokeDashoffset = len;
    return len;
  }

  function drawArrow(id) {
    const p = document.getElementById(id);
    p.style.transition = "stroke-dashoffset 0.8s ease";
    p.style.strokeDashoffset = 0;
  }

  function resetBoard() {
    timers.forEach(t => clearTimeout(t));
    timers = [];
    speechSynthesis.cancel();

    document.getElementById("content").textContent = "";
    document.getElementById("diagram").style.display = "none";

    ["data","model","output"].forEach(id =>
      document.getElementById(id).classList.remove("highlight")
    );

    arrow1Len = setupArrow("arrow1");
    arrow2Len = setupArrow("arrow2");
  }

  function speak(text, slow=false) {
    const u = new SpeechSynthesisUtterance(text);
    u.rate = slow ? 0.7 : 0.9;
    speechSynthesis.speak(u);
  }

  function write(text) {
    const el = document.getElementById("content");
    let i = 0;
    const t = setInterval(() => {
      el.textContent += text.charAt(i++);
      if (i >= text.length) clearInterval(t);
    }, 35);
    timers.push(t);
  }

  function highlight(id) {
    document.getElementById(id).classList.add("highlight");
  }

  /* ---------- MAIN ---------- */

  function start() {
    resetBoard();

    speak("An AI model is like a smart robot brain.");
    write("An AI model is like a smart robot brain.\n\nLetâ€™s see how it learns!");

    timers.push(setTimeout(() => {
      document.getElementById("diagram").style.display = "block";
      highlight("data");
      speak("First, we give it data.");
    }, 2000));

    timers.push(setTimeout(() => {
      drawArrow("arrow1");
      document.getElementById("data").classList.remove("highlight");
      highlight("model");
      speak("The data goes into the AI brain.");
    }, 3800));

    timers.push(setTimeout(() => {
      drawArrow("arrow2");
      document.getElementById("model").classList.remove("highlight");
      highlight("output");
      speak("Then the brain gives an answer.");
    }, 5600));
  }

  function simpler() {
    resetBoard();

    speak("Let me make it very easy.", true);
    write("AI is like a student.");

    timers.push(setTimeout(() => {
      document.getElementById("diagram").style.display = "block";
      highlight("data");
      speak("We show the student examples.", true);
    }, 2000));

    timers.push(setTimeout(() => {
      drawArrow("arrow1");
      document.getElementById("data").classList.remove("highlight");
      highlight("model");
      speak("The student learns.", true);
    }, 3600));

    timers.push(setTimeout(() => {
      drawArrow("arrow2");
      document.getElementById("model").classList.remove("highlight");
      highlight("output");
      speak("Then the student answers.", true);
    }, 5200));
  }

  function listen() {
    const SR = window.SpeechRecognition || window.webkitSpeechRecognition;
    if (!SR) return alert("Voice not supported");

    const r = new SR();
    r.onresult = e => {
      resetBoard();
      speak("Good question!", true);
      write("You asked:\n\"" + e.results[0][0].transcript + "\"");
    };
    r.start();
  }
</script>
</body>
</html>
